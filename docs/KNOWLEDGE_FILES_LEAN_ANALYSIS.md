# çŸ¥è¯†åº“æ–‡ä»¶ç²¾ç›Šåˆ†ææŠ¥å‘Š

## ğŸ¯ ç²¾ç›Šç®¡ç†åŸåˆ™ï¼šä»·å€¼ vs å¤æ‚åº¦

ä½œä¸ºç²¾ç›Šç®¡ç†é¡¾é—®ï¼Œæˆ‘åˆ†æäº†12ä¸ªJSONæ–‡ä»¶ï¼ŒæŒ‰ç…§**å®é™…ä½¿ç”¨é¢‘ç‡**å’Œ**ä¸šåŠ¡ä»·å€¼**è¿›è¡Œåˆ†ç±»ã€‚

---

## ğŸ“Š æ–‡ä»¶åˆ†ç±»åˆ†æ

### âœ… Tier 1ï¼šæ ¸å¿ƒå¿…éœ€æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰- **ç»å¯¹ä¸èƒ½åˆ é™¤**

è¿™äº›æ–‡ä»¶åœ¨ä»£ç ä¸­è¢«æ ‡è®°ä¸º `required: true`ï¼ŒåŠ è½½å¤±è´¥ä¼šå¯¼è‡´ç³»ç»Ÿæ— æ³•è¿è¡Œã€‚

| æ–‡ä»¶ | ç”¨é€” | ä½¿ç”¨ä½ç½® | ä¸šåŠ¡ä»·å€¼ | å¤æ‚åº¦ |
|------|------|---------|---------|--------|
| **services.json** | æœåŠ¡åˆ—è¡¨ã€ä»·æ ¼ã€æè¿° | LLMæç¤ºè¯ã€ä»·æ ¼æŸ¥è¯¢ | â­â­â­â­â­ æé«˜ | ä¸­ç­‰ |
| **contact_info.json** | è”ç³»æ–¹å¼ã€åœ°å€ã€è¥ä¸šæ—¶é—´ | LLMæç¤ºè¯ã€æ‰€æœ‰å›å¤ | â­â­â­â­â­ æé«˜ | ä¸­ç­‰ |
| **personas.json** | AIäººæ ¼è®¾å®šã€è¯­è°ƒ | LLMæç¤ºè¯ | â­â­â­â­ é«˜ | ä½ |
| **policies.json** | å…¬å¸æ”¿ç­–ã€æ¡æ¬¾ | LLMæç¤ºè¯ï¼ˆåˆè§„æ€§ï¼‰ | â­â­â­â­ é«˜ | ä½ |

**ç»“è®ºï¼šè¿™4ä¸ªæ–‡ä»¶æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œåˆ é™¤ä»»ä½•ä¸€ä¸ªéƒ½ä¼šå¯¼è‡´åŠŸèƒ½ç¼ºå¤±ã€‚**

---

### âš ï¸ Tier 2ï¼šå¢å¼ºåŠŸèƒ½æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰- **å¼ºçƒˆå»ºè®®ä¿ç•™**

è¿™äº›æ–‡ä»¶è™½ç„¶æ ‡è®°ä¸º `required: false`ï¼Œä½†åœ¨ä»£ç ä¸­è¢«é¢‘ç¹ä½¿ç”¨ï¼Œæä¾›é‡è¦åŠŸèƒ½ã€‚

| æ–‡ä»¶ | ç”¨é€” | ä½¿ç”¨ä½ç½® | ä¸šåŠ¡ä»·å€¼ | å¤æ‚åº¦ | åˆ é™¤å½±å“ |
|------|------|---------|---------|--------|---------|
| **intent_config.json** | æ„å›¾è¯†åˆ«é…ç½® | `chatHelpers.ts` - æ„å›¾æå– | â­â­â­â­ é«˜ | é«˜ | âŒ æ„å›¾è¯†åˆ«å‡†ç¡®æ€§ä¸‹é™ |
| **entity_patterns.json** | å®ä½“æå–æ¨¡å¼ | `chatHelpers.ts` - å®ä½“æå– | â­â­â­â­ é«˜ | é«˜ | âŒ æ— æ³•æå–æœåŠ¡ç±»å‹ç­‰å®ä½“ |
| **response_templates.json** | å›å¤æ¨¡æ¿ | `llm.ts` - LLMæç¤ºè¯ | â­â­â­â­ é«˜ | ä¸­ç­‰ | âš ï¸ å›å¤è´¨é‡ä¸‹é™ï¼Œéœ€LLMè‡ªè¡Œç”Ÿæˆ |
| **faq_detailed.json** | FAQè¯¦ç»†é—®ç­” | `faq-menu.ts` - FAQèœå•API | â­â­â­â­ é«˜ | ä¸­ç­‰ | âŒ FAQèœå•åŠŸèƒ½å¤±æ•ˆ |

**ç»“è®ºï¼šåˆ é™¤è¿™äº›æ–‡ä»¶ä¼šå¯¼è‡´åŠŸèƒ½ä¸¥é‡é™çº§ï¼Œå»ºè®®ä¿ç•™ã€‚**

---

### ğŸ” Tier 3ï¼šä¼˜åŒ–åŠŸèƒ½æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰- **å¯æŒ‰éœ€ä¿ç•™**

è¿™äº›æ–‡ä»¶æä¾›ä¼˜åŒ–åŠŸèƒ½ï¼Œä½†ä¸æ˜¯æ ¸å¿ƒåŠŸèƒ½ã€‚

| æ–‡ä»¶ | ç”¨é€” | ä½¿ç”¨ä½ç½® | ä¸šåŠ¡ä»·å€¼ | å¤æ‚åº¦ | åˆ é™¤å½±å“ |
|------|------|---------|---------|--------|---------|
| **service_summaries.json** | æœåŠ¡æ‘˜è¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ | `llm.ts` - LLMæç¤ºè¯ | â­â­â­ ä¸­ | ä¸­ç­‰ | âš ï¸ å¯ä½¿ç”¨services.jsonæ›¿ä»£ï¼Œä½†æç¤ºè¯ä¼šæ›´é•¿ |
| **emotion_templates.json** | æƒ…æ„Ÿè¡¨è¾¾æ¨¡æ¿ | `llm.ts` - æƒ…ç»ªåœºæ™¯å¤„ç† | â­â­â­ ä¸­ | ä¸­ç­‰ | âš ï¸ æƒ…ç»ªåœºæ™¯å›å¤è´¨é‡ä¸‹é™ |
| **state_transitions.json** | å¯¹è¯çŠ¶æ€è½¬æ¢è§„åˆ™ | `StateTransitionNode` - çŠ¶æ€ç®¡ç† | â­â­â­ ä¸­ | é«˜ | âš ï¸ çŠ¶æ€ç®¡ç†é€»è¾‘éœ€ç¡¬ç¼–ç  |
| **intent_nba_mapping.json** | æ„å›¾åˆ°ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ˜ å°„ | `chatHelpers.ts` - getNextBestActions | â­â­â­ ä¸­ | ä½ | âš ï¸ ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®åŠŸèƒ½ç¼ºå¤±ï¼Œä½†response_templatesä¸­æœ‰fallback |

**åˆ†æï¼š**
- `service_summaries.json` ä¸ `services.json` æœ‰**æ•°æ®é‡å¤**é£é™©ï¼ˆç²¾ç›ŠåŸåˆ™ï¼šé¿å…é‡å¤ï¼‰
- `emotion_templates.json` å¯è€ƒè™‘åˆå¹¶åˆ° `response_templates.json`
- `state_transitions.json` åªåœ¨ç‰¹å®šèŠ‚ç‚¹ä½¿ç”¨ï¼Œä½¿ç”¨é¢‘ç‡è¾ƒä½
- `intent_nba_mapping.json` æä¾›ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®ï¼Œä½† `response_templates.json` ä¸­æœ‰ fallback

---

### âš ï¸ Tier 3 è¡¥å……ï¼šä¼˜åŒ–åŠŸèƒ½æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰- **å¯æŒ‰éœ€ä¿ç•™**

| æ–‡ä»¶ | ç”¨é€” | ä½¿ç”¨ä½ç½® | ä¸šåŠ¡ä»·å€¼ | å¤æ‚åº¦ | åˆ é™¤å½±å“ |
|------|------|---------|---------|--------|---------|
| **intent_nba_mapping.json** | æ„å›¾åˆ°ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ˜ å°„ | `chatHelpers.ts` - getNextBestActions | â­â­â­ ä¸­ | ä½ | âš ï¸ ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®åŠŸèƒ½ç¼ºå¤±ï¼Œä½†response_templatesä¸­æœ‰fallback |

---

## ğŸ’¡ ç²¾ç›Šä¼˜åŒ–å»ºè®®

### ğŸ¯ ä¼˜åŒ–æ–¹æ¡ˆ Aï¼šæ¿€è¿›ç²¾ç®€ï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰

**ä¿ç•™æ ¸å¿ƒ+å¢å¼ºåŠŸèƒ½ï¼ˆ8ä¸ªæ–‡ä»¶ï¼‰ï¼š**

```
âœ… å¿…éœ€ï¼ˆ4ä¸ªï¼‰ï¼š
- services.json
- contact_info.json
- personas.json
- policies.json

âœ… å¢å¼ºï¼ˆ4ä¸ªï¼‰ï¼š
- intent_config.json
- entity_patterns.json
- response_templates.json
- faq_detailed.json

âŒ åˆ é™¤ï¼ˆ4ä¸ªï¼‰ï¼š
- service_summaries.json â†’ åˆå¹¶åˆ° services.json
- emotion_templates.json â†’ åˆå¹¶åˆ° response_templates.json
- state_transitions.json â†’ ç¡¬ç¼–ç æˆ–ä½¿ç”¨é»˜è®¤é€»è¾‘
- intent_nba_mapping.json â†’ ä½¿ç”¨ response_templates ä¸­çš„ fallback
```

**ä¼˜åŠ¿ï¼š**
- âœ… æ–‡ä»¶æ•°é‡å‡å°‘33%ï¼ˆ12â†’8ï¼‰
- âœ… å‡å°‘æ•°æ®é‡å¤
- âœ… é™ä½ç»´æŠ¤æˆæœ¬

**é£é™©ï¼š**
- âš ï¸ éœ€è¦ä»£ç ä¿®æ”¹
- âš ï¸ æç¤ºè¯å¯èƒ½å˜é•¿ï¼ˆå¦‚æœåˆ é™¤service_summariesï¼‰
- âš ï¸ åŠŸèƒ½ç•¥å¾®é™çº§ï¼ˆemotion_templates, state_transitionsï¼‰

---

### ğŸ¯ ä¼˜åŒ–æ–¹æ¡ˆ Bï¼šä¿å®ˆç²¾ç®€ï¼ˆ10ä¸ªæ–‡ä»¶ï¼‰

**ä¿ç•™æ ¸å¿ƒ+å¢å¼º+éƒ¨åˆ†ä¼˜åŒ–ï¼ˆ10ä¸ªæ–‡ä»¶ï¼‰ï¼š**

```
âœ… å¿…éœ€ï¼ˆ4ä¸ªï¼‰
âœ… å¢å¼ºï¼ˆ4ä¸ªï¼‰
âœ… ä¼˜åŒ–ï¼ˆ2ä¸ªï¼‰ï¼š
- service_summaries.jsonï¼ˆä¿ç•™ï¼Œå› ä¸ºç®€åŒ–æç¤ºè¯ï¼‰
- emotion_templates.jsonï¼ˆä¿ç•™ï¼Œå› ä¸ºæå‡ç”¨æˆ·ä½“éªŒï¼‰

âŒ åˆ é™¤ï¼ˆ2ä¸ªï¼‰ï¼š
- state_transitions.json â†’ ç®€åŒ–çŠ¶æ€ç®¡ç†
- intent_nba_mapping.json â†’ ä½¿ç”¨ response_templates ä¸­çš„ next_best_actions ä½œä¸º fallback
```

**ä¼˜åŠ¿ï¼š**
- âœ… æ–‡ä»¶æ•°é‡å‡å°‘17%ï¼ˆ12â†’10ï¼‰
- âœ… ä¿ç•™é‡è¦ä¼˜åŒ–åŠŸèƒ½
- âœ… æ”¹åŠ¨è¾ƒå°

---

### ğŸ¯ ä¼˜åŒ–æ–¹æ¡ˆ Cï¼šæ•°æ®åˆå¹¶ï¼ˆå‡å°‘æ–‡ä»¶æ•°ï¼‰

**åˆå¹¶ç›¸å…³æ–‡ä»¶ï¼š**

1. **åˆå¹¶ emotion_templates â†’ response_templates.json**
   ```json
   {
     "templates": { ... },
     "emotion_templates": { ... }  // æ–°å¢å­—æ®µ
   }
   ```

2. **åˆå¹¶ service_summaries â†’ services.json**
   ```json
   {
     "services": [
       {
         "id": "...",
         "summary": { ... }  // åœ¨serviceå¯¹è±¡ä¸­æ–°å¢summaryå­—æ®µ
       }
     ]
   }
   ```

3. **åˆå¹¶ intent_nba_mapping â†’ intent_config.json**
   ```json
   {
     "intents": [
       {
         "id": "...",
         "next_best_actions": [...]  // åœ¨intentä¸­æ–°å¢nbaå­—æ®µ
       }
     ]
   }
   ```

**ç»“æœï¼š12ä¸ªæ–‡ä»¶ â†’ 9ä¸ªæ–‡ä»¶ï¼ˆå‡å°‘25%ï¼‰**

---

## ğŸ“‹ æ¨èæ–¹æ¡ˆ

### ğŸ† **æ¨èï¼šæ–¹æ¡ˆ Bï¼ˆä¿å®ˆç²¾ç®€ï¼‰**

**ç†ç”±ï¼š**
1. âœ… **å¹³è¡¡ä»·å€¼ä¸é£é™©**ï¼šä¿ç•™é‡è¦åŠŸèƒ½ï¼Œåªåˆ é™¤ä½ä»·å€¼æ–‡ä»¶
2. âœ… **æ”¹åŠ¨æœ€å°**ï¼šåªåˆ é™¤2ä¸ªæ–‡ä»¶ï¼Œä»£ç æ”¹åŠ¨å°‘
3. âœ… **å¯ç«‹å³æ‰§è¡Œ**ï¼šæ— éœ€é‡æ„ä»£ç 

**æ‰§è¡Œæ­¥éª¤ï¼š**
1. åˆ é™¤ `intent_nba_mapping.json`ï¼Œä½¿ç”¨ `response_templates.json` ä¸­çš„ `next_best_actions` ä½œä¸º fallback
2. ç®€åŒ– `state_transitions.json` çš„é€»è¾‘ï¼ˆç¡¬ç¼–ç æˆ–ä½¿ç”¨é»˜è®¤ï¼‰
3. æ›´æ–°åŠ è½½ä»£ç ï¼Œç§»é™¤è¿™ä¸¤ä¸ªæ–‡ä»¶çš„åŠ è½½
4. æ›´æ–° `chatHelpers.ts` ä¸­çš„ `getNextBestActions` é€»è¾‘ï¼Œä¼˜å…ˆä½¿ç”¨ `response_templates`

---

## ğŸ“ ç²¾ç›ŠåŸåˆ™åº”ç”¨

1. **ä»·å€¼é©±åŠ¨**ï¼šåªä¿ç•™æä¾›å®é™…ä¸šåŠ¡ä»·å€¼çš„æ–‡ä»¶
2. **é¿å…æµªè´¹**ï¼šåˆ é™¤é‡å¤æ•°æ®ï¼ˆservice_summaries vs servicesï¼‰
3. **ç®€åŒ–æµç¨‹**ï¼šå‡å°‘æ–‡ä»¶æ•°é‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
4. **æŒç»­æ”¹è¿›**ï¼šå¯ä»¥å…ˆæ‰§è¡Œæ–¹æ¡ˆBï¼Œåç»­å†è€ƒè™‘æ–¹æ¡ˆC

---

## ğŸ“Š å†³ç­–çŸ©é˜µ

| æ–‡ä»¶ | ä¸šåŠ¡ä»·å€¼ | ä½¿ç”¨é¢‘ç‡ | å¤æ‚åº¦ | åˆ é™¤éš¾åº¦ | æ¨èåŠ¨ä½œ |
|------|---------|---------|--------|---------|---------|
| services.json | â­â­â­â­â­ | é«˜é¢‘ | ä¸­ | éš¾ | âœ… **ä¿ç•™** |
| contact_info.json | â­â­â­â­â­ | é«˜é¢‘ | ä¸­ | éš¾ | âœ… **ä¿ç•™** |
| personas.json | â­â­â­â­ | é«˜é¢‘ | ä½ | éš¾ | âœ… **ä¿ç•™** |
| policies.json | â­â­â­â­ | é«˜é¢‘ | ä½ | éš¾ | âœ… **ä¿ç•™** |
| intent_config.json | â­â­â­â­ | é«˜é¢‘ | é«˜ | ä¸­ | âœ… **ä¿ç•™** |
| entity_patterns.json | â­â­â­â­ | é«˜é¢‘ | é«˜ | ä¸­ | âœ… **ä¿ç•™** |
| response_templates.json | â­â­â­â­ | é«˜é¢‘ | ä¸­ | ä¸­ | âœ… **ä¿ç•™** |
| faq_detailed.json | â­â­â­â­ | ä¸­é¢‘ | ä¸­ | ä¸­ | âœ… **ä¿ç•™** |
| service_summaries.json | â­â­â­ | ä¸­é¢‘ | ä¸­ | æ˜“ | âš ï¸ **å¯åˆå¹¶** |
| emotion_templates.json | â­â­â­ | ä¸­é¢‘ | ä¸­ | æ˜“ | âš ï¸ **å¯åˆå¹¶** |
| state_transitions.json | â­â­â­ | ä½é¢‘ | é«˜ | ä¸­ | âŒ **å¯åˆ é™¤** |
| intent_nba_mapping.json | â­â­ | æœªä½¿ç”¨ | ä½ | æ˜“ | âŒ **å¯åˆ é™¤** |

---

## âœ… æœ€ç»ˆå»ºè®®

**ç«‹å³å¯æ‰§è¡Œï¼š**
1. ç¡®è®¤å¹¶åˆ é™¤ `intent_nba_mapping.json`ï¼ˆå¦‚æœªä½¿ç”¨ï¼‰
2. ç®€åŒ–æˆ–åˆ é™¤ `state_transitions.json`

**ä¸­æœŸä¼˜åŒ–ï¼š**
3. è€ƒè™‘åˆå¹¶ `emotion_templates.json` â†’ `response_templates.json`
4. è€ƒè™‘åˆå¹¶ `service_summaries.json` â†’ `services.json`

**é¢„æœŸæ”¶ç›Šï¼š**
- ğŸ“‰ æ–‡ä»¶æ•°é‡ï¼š12 â†’ 10ï¼ˆæ–¹æ¡ˆBï¼‰æˆ– 12 â†’ 8ï¼ˆæ–¹æ¡ˆAï¼‰
- ğŸ“‰ ç»´æŠ¤æˆæœ¬ï¼šé™ä½17-33%
- ğŸ“‰ åŠ è½½æ—¶é—´ï¼šç•¥å¾®å‡å°‘
- âœ… ä»£ç æ›´æ¸…æ™°ï¼šå‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶åŠ è½½
