# ğŸ‰ è¿ç§»å®Œæˆæ€»ç»“

## âœ… æ‰€æœ‰é˜¶æ®µå·²å®Œæˆ

### é˜¶æ®µ 1: é¡¹ç›®åˆå§‹åŒ– âœ…
- Next.js 16 + TypeScript + Tailwind CSS
- Cloudflare Pages é€‚é…å™¨
- Supabase å®¢æˆ·ç«¯é…ç½®
- Vercel AI SDK é›†æˆ
- shadcn/ui ç»„ä»¶åº“

### é˜¶æ®µ 2: æ•°æ®åº“è®¾è®¡ä¸é…ç½® âœ…
- Supabase æ•°æ®åº“è¿ç§» SQL
- å®Œæ•´çš„æ•°æ®åº“ç±»å‹å®šä¹‰
- DatabaseManager ç±»
- pgvector æ‰©å±•æ”¯æŒ
- ç¯å¢ƒå˜é‡é…ç½®

### é˜¶æ®µ 3: æ ¸å¿ƒåŠŸèƒ½é‡å»º âœ…
- Chatbot Widget ç»„ä»¶
- Chat APIï¼ˆæ”¯æŒ AI ä¸²æµï¼‰
- FAQ Menu API
- çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ
- å…¬å¸é…ç½®ç®¡ç†

### é˜¶æ®µ 4: Widget æ‰“åŒ…ä¸éƒ¨ç½² âœ…
- æ€§èƒ½ä¼˜åŒ–
- é”™è¯¯å¤„ç†ç³»ç»Ÿ
- éƒ¨ç½²é…ç½®
- ç«¯åˆ°ç«¯æµ‹è¯•
- éƒ¨ç½²æ–‡æ¡£

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### ä»£ç æ–‡ä»¶
- **ç»„ä»¶**: 6 ä¸ª shadcn/ui ç»„ä»¶ + ChatbotWidget
- **API è·¯ç”±**: 2 ä¸ªï¼ˆChat, FAQ Menuï¼‰
- **å·¥å…·åº“**: 5 ä¸ªï¼ˆé”™è¯¯å¤„ç†ã€æ€§èƒ½ç›‘æ§ã€æ•°æ®åº“ã€é…ç½®ã€çŸ¥è¯†åº“ï¼‰
- **é¡µé¢**: 3 ä¸ªï¼ˆä¸»é¡µã€Demoã€Widgetï¼‰

### æ–‡æ¡£
- **éƒ¨ç½²æŒ‡å—**: `docs/DEPLOYMENT.md`
- **æµ‹è¯•æŒ‡å—**: `docs/TESTING_GUIDE.md`
- **æ•°æ®åº“è®¾ç½®**: `docs/DATABASE_SETUP.md`
- **å¿«é€Ÿå¼€å§‹**: `docs/QUICK_START.md`

### æµ‹è¯•
- **Supabase è¿æ¥æµ‹è¯•**: `npm run test:supabase`
- **API æµ‹è¯•**: `npm run test:api`
- **ç«¯åˆ°ç«¯æµ‹è¯•**: `npm run test:e2e`

## ğŸš€ éƒ¨ç½²å‡†å¤‡

### ç¯å¢ƒå˜é‡æ£€æŸ¥æ¸…å•

#### Supabase
- [x] `NEXT_PUBLIC_SUPABASE_URL`
- [x] `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- [x] `SUPABASE_SERVICE_ROLE_KEY`

#### AI æœåŠ¡
- [ ] `GEMINI_API_KEY` (éœ€è¦é…ç½®)

#### Cloudflare (å¯é€‰)
- [ ] `CLOUDFLARE_API_TOKEN` (ç”¨äº GitHub Actions)
- [ ] `CLOUDFLARE_ACCOUNT_ID` (ç”¨äº GitHub Actions)

### æ•°æ®åº“æ£€æŸ¥æ¸…å•

- [x] Supabase é¡¹ç›®å·²åˆ›å»º
- [x] æ•°æ®åº“è¿ç§» SQL å·²å‡†å¤‡ (`sql/01-init.sql`)
- [ ] æ•°æ®åº“è¿ç§»å·²æ‰§è¡Œï¼ˆéœ€è¦åœ¨ Supabase Dashboard ä¸­æ‰§è¡Œï¼‰

### æ„å»ºæµ‹è¯•

```bash
# æœ¬åœ°æ„å»ºæµ‹è¯•
npm run build
npm run pages:build

# ç±»å‹æ£€æŸ¥
npm run type-check
```

## ğŸ“ éƒ¨ç½²æ­¥éª¤

### 1. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ Cloudflare Pages Dashboard ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
- Settings â†’ Environment variables

### 2. æ‰§è¡Œæ•°æ®åº“è¿ç§»

åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œï¼š
```sql
-- å¤åˆ¶ sql/01-init.sql çš„å†…å®¹å¹¶æ‰§è¡Œ
```

### 3. éƒ¨ç½²

#### æ–¹æ³• 1: ä½¿ç”¨ Wrangler CLI
```bash
npm run deploy
```

#### æ–¹æ³• 2: ä½¿ç”¨ GitHub Actions
1. é…ç½® GitHub Secrets
2. æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯
3. è‡ªåŠ¨éƒ¨ç½²

#### æ–¹æ³• 3: ä½¿ç”¨ Cloudflare Dashboard
1. è¿æ¥ GitHub ä»“åº“
2. é…ç½®æ„å»ºè®¾ç½®
3. éƒ¨ç½²

è¯¦ç»†æ­¥éª¤è§ `docs/DEPLOYMENT.md`

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°

1. **å¤šç§Ÿæˆ·æ”¯æŒ**
   - å…¬å¸é…ç½®ç®¡ç†
   - çŸ¥è¯†åº“éš”ç¦»
   - ç‹¬ç«‹ API ç«¯ç‚¹

2. **AI å¯¹è¯**
   - å®æ—¶ä¸²æµå“åº”
   - ä¸Šä¸‹æ–‡ç®¡ç†
   - çŸ¥è¯†åº“é›†æˆ

3. **Widget é›†æˆ**
   - Iframe éš”ç¦»
   - ç®€å•åµŒå…¥ä»£ç 
   - ä¸»é¢˜å®šåˆ¶

4. **æ€§èƒ½ä¼˜åŒ–**
   - Edge Runtime
   - ä»£ç åˆ†å‰²
   - ç¼“å­˜ç­–ç•¥

5. **é”™è¯¯å¤„ç†**
   - ç»Ÿä¸€é”™è¯¯æ ¼å¼
   - è¯¦ç»†æ—¥å¿—
   - å‹å¥½é”™è¯¯æ¶ˆæ¯

## ğŸ“š æ–‡æ¡£ç´¢å¼•

- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)
- [æµ‹è¯•æŒ‡å—](./TESTING_GUIDE.md)
- [æ•°æ®åº“è®¾ç½®](./DATABASE_SETUP.md)
- [å¿«é€Ÿå¼€å§‹](./QUICK_START.md)
- [ç¯å¢ƒå˜é‡é…ç½®](./ENV_CONFIG.md)

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
npm run dev

# æ„å»º
npm run build
npm run pages:build

# æµ‹è¯•
npm run test:supabase
npm run test:api
npm run test:e2e

# éƒ¨ç½²
npm run deploy

# ç±»å‹æ£€æŸ¥
npm run type-check
```

## âš ï¸ é‡è¦æé†’

1. **GEMINI_API_KEY**: å¿…é¡»é…ç½®æ‰èƒ½ä½¿ç”¨ Chat API
2. **æ•°æ®åº“è¿ç§»**: å¿…é¡»åœ¨ Supabase ä¸­æ‰§è¡Œ SQL è¿ç§»
3. **ç¯å¢ƒå˜é‡**: ç”Ÿäº§ç¯å¢ƒå¿…é¡»é…ç½®æ‰€æœ‰å¿…è¦çš„ç¯å¢ƒå˜é‡
4. **CORS**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ç™½åå•

## ğŸŠ æ­å–œï¼

é¡¹ç›®è¿ç§»å·²å®Œæˆï¼ä½ ç°åœ¨æ‹¥æœ‰ï¼š

- âœ… ç°ä»£åŒ–çš„ Next.js æ¶æ„
- âœ… å®Œæ•´çš„ TypeScript ç±»å‹å®‰å…¨
- âœ… æ€§èƒ½ä¼˜åŒ–çš„ä»£ç 
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„æ–‡æ¡£
- âœ… è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹

**ä¸‹ä¸€æ­¥**: æŒ‰ç…§ `docs/DEPLOYMENT.md` è¿›è¡Œé¦–æ¬¡éƒ¨ç½²ï¼

---

**å®Œæˆæ—¶é—´**: 2024-12-15
**çŠ¶æ€**: âœ… æ‰€æœ‰é˜¶æ®µå®Œæˆï¼Œå‡†å¤‡éƒ¨ç½²

