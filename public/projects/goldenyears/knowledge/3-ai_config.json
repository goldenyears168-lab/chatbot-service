{
  "_file_description": "AI 設定檔：包含意圖識別與實體提取設定。用於讓 AI 理解用戶訊息的意圖，並提取關鍵資訊（如服務類型、用途、分店等）。",
  "version": "1.0.0",
  "last_updated": "2025-01-20",
  "data_source": "knowledge/ai_config.json (意圖識別 + 實體提取配置)",
  "_section_ui": "UI 設定：控制前端顯示行為",
  "ui": {
    "_comment": "UI 顯示設定",
    "removeMarkdownBold": true,
    "_field_description": {
      "removeMarkdownBold": "是否移除 AI 回复中的 ** 标记（true: 移除，false: 保留或转换为 HTML 粗体）"
    }
  },
  "_section_intents": "意圖設定：定義用戶訊息的意圖分類規則。priority 數字越小優先級越高（1 最高）。",
  "intents": [
    {
      "_comment": "投訴意圖：用戶表達不滿、生氣、投訴等負面情緒",
      "id": "complaint",
      "priority": 1,
      "_field_description": {
        "priority": "优先级（数字越小优先级越高，1 最高）",
        "keywords": "匹配關鍵詞列表：如果用戶訊息包含這些詞，會匹配此意圖",
        "excludeKeywords": "排除關鍵詞：如果訊息包含這些詞，即使匹配了 keywords 也不會識別為此意圖",
        "contextKeywords": "上下文關鍵詞：需要結合對話上下文判斷，通常用於需要更多資訊的場景"
      },
      "keywords": ["不滿意", "生氣", "投訴", "抱怨", "很差", "很糟", "後悔"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "轉人工意圖：用戶要求轉接真人客服",
      "id": "handoff_to_human",
      "priority": 2,
      "keywords": ["真人", "人工", "客服", "人員", "員工"],
      "excludeKeywords": [],
      "contextKeywords": ["企業", "公司", "團體", "20人", "報價", "合作", "大量"]
    },
    {
      "_comment": "價格查詢意圖：用戶詢問價格、費用、預算等",
      "id": "price_inquiry",
      "priority": 3,
      "keywords": ["多少錢", "價格", "費用", "預算", "價位", "收費", "要多少"],
      "excludeKeywords": ["可以跟我說到", "說到多細", "哪些一定要", "再問真人", "報價範圍"],
      "contextKeywords": []
    },
    {
      "_comment": "交付時間查詢意圖：用戶詢問交件時間、多久會好等",
      "id": "delivery_inquiry",
      "priority": 4,
      "keywords": ["多久會好", "多久收到", "交件時間", "交件", "何時交件", "什麼時候好", "幾天", "交件速度"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "位置查詢意圖：用戶詢問地址、分店、聯繫方式、營業時間等",
      "id": "location_inquiry",
      "priority": 5,
      "keywords": [
        "地址", "地點", "在哪裡", "在哪", "位置", "怎麼去", "交通", "捷運", 
        "分店", "店址", "停車", "停車場", "停車位", "哪裡停車", "附近停車", 
        "電話", "聯絡電話", "聯繫電話", "電話號碼", "營業時間", "開門時間", 
        "幾點開", "幾點關", "開店時間", "關店時間", "聯絡", "聯繫", "聯絡方式", 
        "聯繫方式", "怎麼聯絡", "怎麼聯繫", "email", "信箱", "ig", "instagram", "line"
      ],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "妝髮查詢意圖：用戶詢問化妝、髮型、造型相關",
      "id": "makeup_inquiry",
      "priority": 6,
      "keywords": ["妝髮", "化妝", "髮型", "造型", "makeup", "彩妝", "妝容", "髮型設計", "造型師"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "預約查詢意圖：用戶詢問預約、改期、取消等",
      "id": "booking_inquiry",
      "priority": 7,
      "keywords": ["預約", "改期", "取消", "時間", "時段", "什麼時候", "延後", "提前", "變更", "更改", "調整時間", "重新預約"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "比較意圖：用戶想要比較不同服務或方案",
      "id": "comparison",
      "priority": 8,
      "keywords": ["差", "比較", "哪個好", "哪個適合", "有什麼不同", "差別"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "告別意圖：用戶表達結束對話",
      "id": "goodbye",
      "priority": 9,
      "keywords": ["謝謝", "先這樣", "再見", "bye", "結束", "好了"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "問候意圖：用戶打招呼",
      "id": "greeting",
      "priority": 10,
      "keywords": ["嗨", "你好", "在嗎", "哈囉", "hello", "hi"],
      "excludeKeywords": [],
      "contextKeywords": [],
      "specialConditions": {
        "_comment": "特殊條件：短訊息判斷（如果訊息長度小於等於 5 個字元，更容易識別為問候）",
        "shortMessage": true,
        "shortMessageThreshold": 5
      }
    },
    {
      "_comment": "服務查詢意圖：用戶詢問服務相關（預設意圖，優先級最低）",
      "id": "service_inquiry",
      "priority": 11,
      "keywords": ["拍", "照", "形象", "證件", "寫真", "全家福", "工作坊"],
      "excludeKeywords": [],
      "contextKeywords": []
    }
  ],
  "_section_fallback": "回退設定：當無法識別意圖時的處理方式",
  "fallback": {
    "_comment": "如果無法識別意圖，使用上下文意圖（對話歷史中的上一個意圖）或預設意圖",
    "useContextIntent": true,
    "contextIntentThreshold": 10,
    "defaultIntent": "service_inquiry"
  },
  "_section_entity_patterns": "實體提取模式：從用戶訊息中提取關鍵資訊（服務類型、用途、客戶類型、分店、預約動作等）",
  "entity_patterns": {
    "_comment": "服務類型實體：識別用戶想要的服務（如證件照、形象照等）",
    "service_type": [
      {
        "id": "headshot_korean",
        "keywords": ["證件照", "證照", "護照照", "簽證照", "headshot", "韓式"]
      },
      {
        "id": "portrait_pro",
        "keywords": ["形象照", "linkedin照", "履歷照", "職場照", "專業照", "professional"]
      },
      {
        "id": "portrait_grad_personal",
        "keywords": ["寫真", "個人寫真", "畢業寫真", "畢業照", "artistic"]
      },
      {
        "id": "group_family",
        "keywords": ["全家福", "家庭照", "家庭合照", "朋友合照", "團體照", "group"]
      },
      {
        "id": "workshop_challenge",
        "keywords": ["一日攝影師", "攝影體驗", "攝影課", "工作坊", "workshop"]
      }
    ],
    "_comment": "用途實體：識別用戶使用照片的用途（如履歷、護照、紀念等）",
    "use_case": [
      {
        "id": "linkedin_resume",
        "keywords": ["履歷", "linkedin", "求職", "面試", "轉職", "resume"]
      },
      {
        "id": "official_document",
        "keywords": ["護照", "簽證", "身分證", "駕照", "證照", "official"]
      },
      {
        "id": "memorial",
        "keywords": ["紀念", "生日", "畢業", "紀錄", "里程碑", "memorial"]
      },
      {
        "id": "social_media",
        "keywords": ["ig", "社群", "粉專", "個人品牌", "自媒體", "social"]
      },
      {
        "id": "family_couple",
        "keywords": ["全家福", "親子", "情侶", "家人", "小孩", "family"]
      }
    ],
    "_comment": "客戶類型實體：識別客戶畫像關鍵詞（用於匹配 personas.json 中的客戶畫像）",
    "persona": [
      {
        "id": "student_graduating",
        "keywords": ["學生", "畢業", "大學", "碩士", "freshman"]
      },
      {
        "id": "pro_switching_job",
        "keywords": ["轉職", "上班族", "工程師", "顧問", "律師", "professional"]
      },
      {
        "id": "family_keeper",
        "keywords": ["家庭", "媽媽", "爸爸", "長輩", "主理人", "family"]
      },
      {
        "id": "hr_corporate",
        "keywords": ["企業", "公司", "人資", "福委", "團體", "corporate"]
      }
    ],
    "_comment": "分店實體：識別用戶提到的分店",
    "branch": {
      "zhongshan": {
        "keywords": ["中山", "zhongshan"]
      },
      "gongguan": {
        "keywords": ["公館", "gongguan", "台大"]
      }
    },
    "_comment": "預約動作實體：識別用戶的預約相關動作",
    "booking_action": {
      "book": {
        "keywords": ["預約", "book"]
      },
      "reschedule": {
        "keywords": ["改期", "reschedule"]
      },
      "cancel": {
        "keywords": ["取消", "cancel"]
      }
    }
  }
}
