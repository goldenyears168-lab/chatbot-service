{
  "_file_description": "AI 配置文件：包含意图识别和实体提取配置。用于让 AI 理解用户消息的意图，并提取关键信息（如服务类型、用途、分店等）。",
  "version": "1.0.0",
  "last_updated": "2025-01-20",
  "data_source": "knowledge/ai_config.json (意圖識別 + 實體提取配置)",
  "_section_ui": "UI 配置：控制前端显示行为",
  "ui": {
    "_comment": "UI 显示配置",
    "removeMarkdownBold": true,
    "_field_description": {
      "removeMarkdownBold": "是否移除 AI 回复中的 ** 标记（true: 移除，false: 保留或转换为 HTML 粗体）"
    }
  },
  "_section_intents": "意图配置：定义用户消息的意图分类规则。priority 数字越小优先级越高（1 最高）。",
  "intents": [
    {
      "_comment": "投诉意图：用户表达不满、生气、投诉等负面情绪",
      "id": "complaint",
      "priority": 1,
      "_field_description": {
        "priority": "优先级（数字越小优先级越高，1 最高）",
        "keywords": "匹配关键词列表：如果用户消息包含这些词，会匹配此意图",
        "excludeKeywords": "排除关键词：如果消息包含这些词，即使匹配了 keywords 也不会识别为此意图",
        "contextKeywords": "上下文关键词：需要结合对话上下文判断，通常用于需要更多信息的场景"
      },
      "keywords": ["不滿意", "生氣", "投訴", "抱怨", "很差", "很糟", "後悔"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "转人工意图：用户要求转接真人客服",
      "id": "handoff_to_human",
      "priority": 2,
      "keywords": ["真人", "人工", "客服", "人員", "員工"],
      "excludeKeywords": [],
      "contextKeywords": ["企業", "公司", "團體", "20人", "報價", "合作", "大量"]
    },
    {
      "_comment": "价格查询意图：用户询问价格、费用、预算等",
      "id": "price_inquiry",
      "priority": 3,
      "keywords": ["多少錢", "價格", "費用", "預算", "價位", "收費", "要多少"],
      "excludeKeywords": ["可以跟我說到", "說到多細", "哪些一定要", "再問真人", "報價範圍"],
      "contextKeywords": []
    },
    {
      "_comment": "交付时间查询意图：用户询问交件时间、多久会好等",
      "id": "delivery_inquiry",
      "priority": 4,
      "keywords": ["多久會好", "多久收到", "交件時間", "交件", "何時交件", "什麼時候好", "幾天", "交件速度"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "位置查询意图：用户询问地址、分店、联系方式、营业时间等",
      "id": "location_inquiry",
      "priority": 5,
      "keywords": [
        "地址", "地點", "在哪裡", "在哪", "位置", "怎麼去", "交通", "捷運", 
        "分店", "店址", "停車", "停車場", "停車位", "哪裡停車", "附近停車", 
        "電話", "聯絡電話", "聯繫電話", "電話號碼", "營業時間", "開門時間", 
        "幾點開", "幾點關", "開店時間", "關店時間", "聯絡", "聯繫", "聯絡方式", 
        "聯繫方式", "怎麼聯絡", "怎麼聯繫", "email", "信箱", "ig", "instagram", "line"
      ],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "妆发查询意图：用户询问化妆、发型、造型相关",
      "id": "makeup_inquiry",
      "priority": 6,
      "keywords": ["妝髮", "化妝", "髮型", "造型", "makeup", "彩妝", "妝容", "髮型設計", "造型師"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "预约查询意图：用户询问预约、改期、取消等",
      "id": "booking_inquiry",
      "priority": 7,
      "keywords": ["預約", "改期", "取消", "時間", "時段", "什麼時候", "延後", "提前", "變更", "更改", "調整時間", "重新預約"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "比较意图：用户想要比较不同服务或方案",
      "id": "comparison",
      "priority": 8,
      "keywords": ["差", "比較", "哪個好", "哪個適合", "有什麼不同", "差別"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "告别意图：用户表达结束对话",
      "id": "goodbye",
      "priority": 9,
      "keywords": ["謝謝", "先這樣", "再見", "bye", "結束", "好了"],
      "excludeKeywords": [],
      "contextKeywords": []
    },
    {
      "_comment": "问候意图：用户打招呼",
      "id": "greeting",
      "priority": 10,
      "keywords": ["嗨", "你好", "在嗎", "哈囉", "hello", "hi"],
      "excludeKeywords": [],
      "contextKeywords": [],
      "specialConditions": {
        "_comment": "特殊条件：短消息判断（如果消息长度小于等于 5 个字符，更容易识别为问候）",
        "shortMessage": true,
        "shortMessageThreshold": 5
      }
    },
    {
      "_comment": "服务查询意图：用户询问服务相关（默认意图，优先级最低）",
      "id": "service_inquiry",
      "priority": 11,
      "keywords": ["拍", "照", "形象", "證件", "寫真", "全家福", "工作坊"],
      "excludeKeywords": [],
      "contextKeywords": []
    }
  ],
  "_section_fallback": "回退配置：当无法识别意图时的处理方式",
  "fallback": {
    "_comment": "如果无法识别意图，使用上下文意图（对话历史中的上一个意图）或默认意图",
    "useContextIntent": true,
    "contextIntentThreshold": 10,
    "defaultIntent": "service_inquiry"
  },
  "_section_entity_patterns": "实体提取模式：从用户消息中提取关键信息（服务类型、用途、客户类型、分店、预约动作等）",
  "entity_patterns": {
    "_comment": "服务类型实体：识别用户想要的服务（如证件照、形象照等）",
    "service_type": [
      {
        "id": "headshot_korean",
        "keywords": ["證件照", "證照", "護照照", "簽證照", "headshot", "韓式"]
      },
      {
        "id": "portrait_pro",
        "keywords": ["形象照", "linkedin照", "履歷照", "職場照", "專業照", "professional"]
      },
      {
        "id": "portrait_grad_personal",
        "keywords": ["寫真", "個人寫真", "畢業寫真", "畢業照", "artistic"]
      },
      {
        "id": "group_family",
        "keywords": ["全家福", "家庭照", "家庭合照", "朋友合照", "團體照", "group"]
      },
      {
        "id": "workshop_challenge",
        "keywords": ["一日攝影師", "攝影體驗", "攝影課", "工作坊", "workshop"]
      }
    ],
    "_comment": "用途实体：识别用户使用照片的用途（如履历、护照、纪念等）",
    "use_case": [
      {
        "id": "linkedin_resume",
        "keywords": ["履歷", "linkedin", "求職", "面試", "轉職", "resume"]
      },
      {
        "id": "official_document",
        "keywords": ["護照", "簽證", "身分證", "駕照", "證照", "official"]
      },
      {
        "id": "memorial",
        "keywords": ["紀念", "生日", "畢業", "紀錄", "里程碑", "memorial"]
      },
      {
        "id": "social_media",
        "keywords": ["ig", "社群", "粉專", "個人品牌", "自媒體", "social"]
      },
      {
        "id": "family_couple",
        "keywords": ["全家福", "親子", "情侶", "家人", "小孩", "family"]
      }
    ],
    "_comment": "客户类型实体：识别客户画像关键词（用于匹配 personas.json 中的客户画像）",
    "persona": [
      {
        "id": "student_graduating",
        "keywords": ["學生", "畢業", "大學", "碩士", "freshman"]
      },
      {
        "id": "pro_switching_job",
        "keywords": ["轉職", "上班族", "工程師", "顧問", "律師", "professional"]
      },
      {
        "id": "family_keeper",
        "keywords": ["家庭", "媽媽", "爸爸", "長輩", "主理人", "family"]
      },
      {
        "id": "hr_corporate",
        "keywords": ["企業", "公司", "人資", "福委", "團體", "corporate"]
      }
    ],
    "_comment": "分店实体：识别用户提到的分店",
    "branch": {
      "zhongshan": {
        "keywords": ["中山", "zhongshan"]
      },
      "gongguan": {
        "keywords": ["公館", "gongguan", "台大"]
      }
    },
    "_comment": "预约动作实体：识别用户的预约相关动作",
    "booking_action": {
      "book": {
        "keywords": ["預約", "book"]
      },
      "reschedule": {
        "keywords": ["改期", "reschedule"]
      },
      "cancel": {
        "keywords": ["取消", "cancel"]
      }
    }
  }
}
